package com.dihuo.twodfire.retail.activity.retailmanager;

import java.util.LinkedList;
import java.util.List;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.support.v4.view.PagerAdapter;
import android.support.v4.view.ViewPager;
import android.view.LayoutInflater;
import android.view.View;

import com.dihuo.twodfire.retail.R;
import com.dihuo.twodfire.retail.activity.login.UserInfoActivity;
import com.dihuo.twodfire.retail.activity.setting.SettingActivity;


public class RetailBGdetailActivity extends Activity{
	
	private ViewPager viewPager = null;
	private List<View> pageList = null;
	MyPagerAdapter mMyPagerAdapter = null;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		// TODO Auto-generated method stub
		super.onCreate(savedInstanceState);
		setContentView(R.layout.store_main);
		initIntroductionPage();
		
	}

	@Override
	protected void onDestroy() {
		// TODO Auto-generated method stub
		super.onDestroy();
	}
	
	/**
	 * 进入欢迎界面
	 * @author kyolee
	 * @date 2014-9-10
	 */
	private void initIntroductionPage() {
		LayoutInflater inflater = LayoutInflater.from(this);
		//初始化触摸探测
		viewPager = (ViewPager)findViewById(R.id.profit_viewflipper);
		pageList = new LinkedList<View>();
		View v1 = inflater.inflate(R.layout.profit_1, null);
		View v2 = inflater.inflate(R.layout.profit_2, null);
		View v3 = inflater.inflate(R.layout.profit_3, null);
		pageList.add(v1);
		pageList.add(v2);
		pageList.add(v3);
		mMyPagerAdapter = new MyPagerAdapter(RetailBGdetailActivity.this);
		
		if(mMyPagerAdapter!=null)
		{
			viewPager.setAdapter(mMyPagerAdapter);		
		}
	}
	
	public void ImgClickListener(View v) {
		switch (Integer.parseInt(String.valueOf(v.getTag()))) {
		case 1:// 商品管理
			startActivity(new Intent(RetailBGdetailActivity.this, EmployeeInfoActivity.class));
			break;
		case 2:// 会员管理
			//startActivity(new Intent(StoreDetail.this, MemberInfoActivity.class));
			break;
		case 3:// 物流管理
			//startActivity(new Intent(StoreDetail.this, MemberTranSearchActivity.class));
			break;
		case 4:// 库存管理
			//startActivity(new Intent(StoreDetail.this, StoreManagerActivity.class));
			break;
		case 5:// 门店管理
			startActivity(new Intent(RetailBGdetailActivity.this, RetailManagerActivity.class));
			break;
		case 6:// 消息中心
			//startActivity(new Intent(StoreDetail.this, Setting.class));
		case 7:// 设置
			startActivity(new Intent(RetailBGdetailActivity.this, SettingActivity.class));
			break;
		case 8:// 营销管理
			//startActivity(new Intent(StoreDetail.this, MemberInfoActivity.class));
			break;
		case 9:// 报表中心
			//startActivity(new Intent(StoreDetail.this, Setting.class));
			break;	
		case 10:// 更多用户信息
			startActivity(new Intent(RetailBGdetailActivity.this, UserInfoActivity.class));
			break;	
		case 11:// 报表中心
			//startActivity(new Intent(StoreDetail.this, Setting.class));
			break;		
		default :
			break;
		}
	}

	class MyPagerAdapter extends PagerAdapter {

		private Context ctx;
		public MyPagerAdapter(Context ctx) {
			this.ctx = ctx;
		}
		
		/* (non-Javadoc)
		 * @see android.support.v4.view.PagerAdapter#getCount()
		 */
		@Override
		public int getCount() {
			return pageList == null ? 0 : pageList.size();
		}

		/* (non-Javadoc)
		 * @see android.support.v4.view.PagerAdapter#isViewFromObject(android.view.View, java.lang.Object)
		 */
		@Override
		public boolean isViewFromObject(View arg0, Object arg1) {
			return arg0 == arg1;
		}
		
		/* (non-Javadoc)
		 * @see android.support.v4.view.PagerAdapter#getItemPosition(java.lang.Object)
		 */
		@Override
		public int getItemPosition(Object object) {
			return super.getItemPosition(object);
		}

		/* (non-Javadoc)
		 * @see android.support.v4.view.PagerAdapter#destroyItem(android.view.View, int, java.lang.Object)
		 */
		@Override
		public void destroyItem(View container, int position, Object object) {
			((ViewPager) container).removeView(pageList.get(position));
		}
		
		/* (non-Javadoc)
		 * @see android.support.v4.view.PagerAdapter#instantiateItem(android.view.View, int)
		 */
		@Override
		public Object instantiateItem(View container, int position) {
			((ViewPager)container).addView(pageList.get(position));
			return pageList.get(position);
		}
		
	}
	
	

}
